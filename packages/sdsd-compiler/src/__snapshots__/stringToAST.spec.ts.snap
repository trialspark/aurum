// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`stringToAST() converts a domain and datasets 1`] = `
Object {
  "children": Array [
    Object {
      "children": Array [
        Object {
          "columns": Array [
            Object {
              "columnName": Object {
                "loc": 171,
                "type": "identifier",
                "value": "VSSEQ",
              },
              "columnType": Object {
                "loc": 177,
                "members": Array [
                  Object {
                    "loc": 177,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 177,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": null,
                  "loc": 201,
                  "name": "sequence",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 260,
                        "type": "string",
                        "value": "Sequence Number",
                      },
                    ],
                    "loc": 260,
                    "type": "args",
                  },
                  "loc": 253,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 327,
                        "type": "string",
                        "value": "Sequence number given to ensure uniqueness of subject records within a domain.",
                      },
                    ],
                    "loc": 327,
                    "type": "args",
                  },
                  "loc": 321,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 171,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 430,
                "type": "identifier",
                "value": "VSTESTCD",
              },
              "columnType": Object {
                "loc": 439,
                "members": Array [
                  Object {
                    "loc": 439,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 439,
                      "type": "identifier",
                      "value": "VSTestCode",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 467,
                        "type": "string",
                        "value": "Vital Signs Test Short Name",
                      },
                    ],
                    "loc": 467,
                    "type": "args",
                  },
                  "loc": 460,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 546,
                        "type": "string",
                        "value": "Short name of the measurement, test, or examination described in VSTEST.",
                      },
                    ],
                    "loc": 546,
                    "type": "args",
                  },
                  "loc": 540,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 430,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 667,
                "type": "identifier",
                "value": "VSPOS",
              },
              "columnType": Object {
                "loc": 673,
                "members": Array [
                  Object {
                    "loc": 673,
                    "optional": true,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 673,
                      "type": "identifier",
                      "value": "VSPosition",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 704,
                        "type": "string",
                        "value": "Vital Signs Position of Subject",
                      },
                    ],
                    "loc": 704,
                    "type": "args",
                  },
                  "loc": 697,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 787,
                        "type": "string",
                        "value": "Position of the subject during a measurement or examination.",
                      },
                    ],
                    "loc": 787,
                    "type": "args",
                  },
                  "loc": 781,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 667,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 892,
                "type": "identifier",
                "value": "VSORRES",
              },
              "columnType": Object {
                "loc": 900,
                "members": Array [
                  Object {
                    "loc": 900,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 900,
                      "type": "identifier",
                      "value": "String",
                    },
                  },
                  Object {
                    "loc": 907,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 907,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                  Object {
                    "loc": 915,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 915,
                      "type": "identifier",
                      "value": "Float",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 929,
                        "type": "string",
                        "value": "Result or Finding in Original Units",
                      },
                    ],
                    "loc": 929,
                    "type": "args",
                  },
                  "loc": 922,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 1016,
                        "type": "string",
                        "value": "Result of the vital signs measurement as originally received or collected.",
                      },
                    ],
                    "loc": 1016,
                    "type": "args",
                  },
                  "loc": 1010,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 892,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 1147,
                "type": "identifier",
                "value": "VSORRESU",
              },
              "columnType": Object {
                "loc": 1156,
                "members": Array [
                  Object {
                    "loc": 1156,
                    "optional": true,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 1156,
                      "type": "identifier",
                      "value": "VSUnit",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 1184,
                        "type": "string",
                        "value": "Original Units",
                      },
                    ],
                    "loc": 1184,
                    "type": "args",
                  },
                  "loc": 1177,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 1250,
                        "type": "string",
                        "value": "Original units in which the data were collected. The unit for VSORRES.",
                      },
                    ],
                    "loc": 1250,
                    "type": "args",
                  },
                  "loc": 1244,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 1147,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 1365,
                "type": "identifier",
                "value": "VSSTRESC",
              },
              "columnType": Object {
                "loc": 1374,
                "members": Array [
                  Object {
                    "loc": 1374,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 1374,
                      "type": "identifier",
                      "value": "String",
                    },
                  },
                  Object {
                    "loc": 1381,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 1381,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                  Object {
                    "loc": 1389,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 1389,
                      "type": "identifier",
                      "value": "Float",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 1402,
                        "type": "string",
                        "value": "Character Result/Finding in Std Format",
                      },
                    ],
                    "loc": 1402,
                    "type": "args",
                  },
                  "loc": 1395,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 1492,
                        "type": "string",
                        "value": "Contains the result value for all findings, copied or derived from VSORRES in a standard format or standard units.",
                      },
                    ],
                    "loc": 1492,
                    "type": "args",
                  },
                  "loc": 1486,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 1365,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 1720,
                "type": "identifier",
                "value": "VSSTRESN",
              },
              "columnType": Object {
                "loc": 1729,
                "members": Array [
                  Object {
                    "loc": 1729,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 1729,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                  Object {
                    "loc": 1737,
                    "optional": true,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 1737,
                      "type": "identifier",
                      "value": "Float",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 1757,
                        "type": "string",
                        "value": "Numeric Result/Finding in Standard Units",
                      },
                    ],
                    "loc": 1757,
                    "type": "args",
                  },
                  "loc": 1750,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 1849,
                        "type": "string",
                        "value": "Used for continuous or numeric results or findings in standard format",
                      },
                    ],
                    "loc": 1849,
                    "type": "args",
                  },
                  "loc": 1843,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 1720,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 1977,
                "type": "identifier",
                "value": "VSSTRESU",
              },
              "columnType": Object {
                "loc": 1986,
                "members": Array [
                  Object {
                    "loc": 1986,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 1986,
                      "type": "identifier",
                      "value": "VSUnit",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 2014,
                        "type": "string",
                        "value": "Standard Units",
                      },
                    ],
                    "loc": 2014,
                    "type": "args",
                  },
                  "loc": 2007,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 2080,
                        "type": "string",
                        "value": "Standardized unit used for VSSTRESC and VSSTRESN",
                      },
                    ],
                    "loc": 2080,
                    "type": "args",
                  },
                  "loc": 2074,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 1977,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 2173,
                "type": "identifier",
                "value": "VSSTAT",
              },
              "columnType": Object {
                "loc": 2180,
                "members": Array [
                  Object {
                    "loc": 2180,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 2180,
                      "type": "identifier",
                      "value": "Boolean",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 2210,
                        "type": "string",
                        "value": "Completion Status",
                      },
                    ],
                    "loc": 2210,
                    "type": "args",
                  },
                  "loc": 2203,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 2279,
                        "type": "string",
                        "value": "Used to indicate that a vital sign measurement was not done.",
                      },
                    ],
                    "loc": 2279,
                    "type": "args",
                  },
                  "loc": 2273,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 2173,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 2382,
                "type": "identifier",
                "value": "VSREASND",
              },
              "columnType": Object {
                "loc": 2391,
                "members": Array [
                  Object {
                    "loc": 2391,
                    "optional": true,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 2391,
                      "type": "identifier",
                      "value": "String",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 2419,
                        "type": "string",
                        "value": "Reason Not Performed",
                      },
                    ],
                    "loc": 2419,
                    "type": "args",
                  },
                  "loc": 2412,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 2491,
                        "type": "string",
                        "value": "Describes why a measurement or test was not performed.",
                      },
                    ],
                    "loc": 2491,
                    "type": "args",
                  },
                  "loc": 2485,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 2382,
              "type": "column-definition",
            },
          ],
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 104,
                    "type": "timeconf",
                    "value": Object {
                      "at": null,
                      "items": Array [
                        Object {
                          "loc": 106,
                          "type": "identifier",
                          "value": "BASELINE",
                        },
                        Object {
                          "loc": 116,
                          "type": "identifier",
                          "value": "CLINIC_1",
                        },
                        Object {
                          "loc": 126,
                          "type": "identifier",
                          "value": "CLINIC_2",
                        },
                        Object {
                          "loc": 136,
                          "type": "identifier",
                          "value": "CLINIC_3",
                        },
                        Object {
                          "loc": 146,
                          "type": "identifier",
                          "value": "CLINIC_4",
                        },
                      ],
                      "loc": 106,
                      "type": "time-list",
                    },
                  },
                ],
                "loc": 104,
                "type": "args",
              },
              "loc": 93,
              "name": "milestone",
              "type": "directive",
            },
          ],
          "interfaces": Object {
            "identifiers": Array [
              Object {
                "loc": 76,
                "type": "identifier",
                "value": "base",
              },
              Object {
                "loc": 82,
                "type": "identifier",
                "value": "visit_base",
              },
            ],
            "loc": 76,
            "type": "identifier-list",
          },
          "loc": 54,
          "name": Object {
            "loc": 62,
            "type": "identifier",
            "value": "vs",
          },
          "type": "dataset-definition",
        },
        Object {
          "columns": Array [
            Object {
              "columnName": Object {
                "loc": 2678,
                "type": "identifier",
                "value": "VISITDY",
              },
              "columnType": Object {
                "loc": 2686,
                "members": Array [
                  Object {
                    "loc": 2686,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 2686,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": null,
                  "loc": 2708,
                  "name": "milestone.day",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 2772,
                        "type": "string",
                        "value": "Study Day",
                      },
                    ],
                    "loc": 2772,
                    "type": "args",
                  },
                  "loc": 2765,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 2833,
                        "type": "string",
                        "value": "Study day based upon RFSTDTC in Demographics.",
                      },
                    ],
                    "loc": 2833,
                    "type": "args",
                  },
                  "loc": 2827,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 2678,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 2937,
                "type": "identifier",
                "value": "VISITHR",
              },
              "columnType": Object {
                "loc": 2945,
                "members": Array [
                  Object {
                    "loc": 2945,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 2945,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": null,
                  "loc": 2967,
                  "name": "milestone.hour",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3032,
                        "type": "string",
                        "value": "Hour of Day",
                      },
                    ],
                    "loc": 3032,
                    "type": "args",
                  },
                  "loc": 3025,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3095,
                        "type": "string",
                        "value": "Hour of study day",
                      },
                    ],
                    "loc": 3095,
                    "type": "args",
                  },
                  "loc": 3089,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 2937,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 3137,
                "type": "identifier",
                "value": "VSSEQ",
              },
              "columnType": Object {
                "loc": 3143,
                "members": Array [
                  Object {
                    "loc": 3143,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 3143,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": null,
                  "loc": 3167,
                  "name": "sequence",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3226,
                        "type": "string",
                        "value": "Sequence Number",
                      },
                    ],
                    "loc": 3226,
                    "type": "args",
                  },
                  "loc": 3219,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3293,
                        "type": "string",
                        "value": "Sequence number given to ensure uniqueness of subject records within a domain.",
                      },
                    ],
                    "loc": 3293,
                    "type": "args",
                  },
                  "loc": 3287,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 3137,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 3396,
                "type": "identifier",
                "value": "VSTESTCD",
              },
              "columnType": Object {
                "loc": 3405,
                "members": Array [
                  Object {
                    "loc": 3405,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 3405,
                      "type": "identifier",
                      "value": "VSTestCode",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3433,
                        "type": "string",
                        "value": "Vital Signs Test Short Name",
                      },
                    ],
                    "loc": 3433,
                    "type": "args",
                  },
                  "loc": 3426,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3512,
                        "type": "string",
                        "value": "Short name of the measurement, test, or examination described in VSTEST.",
                      },
                    ],
                    "loc": 3512,
                    "type": "args",
                  },
                  "loc": 3506,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 3396,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 3629,
                "type": "identifier",
                "value": "VSORRES",
              },
              "columnType": Object {
                "loc": 3637,
                "members": Array [
                  Object {
                    "loc": 3637,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 3637,
                      "type": "identifier",
                      "value": "String",
                    },
                  },
                  Object {
                    "loc": 3644,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 3644,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                  Object {
                    "loc": 3652,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 3652,
                      "type": "identifier",
                      "value": "Float",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3666,
                        "type": "string",
                        "value": "Result or Finding in Original Units",
                      },
                    ],
                    "loc": 3666,
                    "type": "args",
                  },
                  "loc": 3659,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3753,
                        "type": "string",
                        "value": "Result of the vital signs measurement as originally received or collected.",
                      },
                    ],
                    "loc": 3753,
                    "type": "args",
                  },
                  "loc": 3747,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 3629,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 3884,
                "type": "identifier",
                "value": "VSORRESU",
              },
              "columnType": Object {
                "loc": 3893,
                "members": Array [
                  Object {
                    "loc": 3893,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 3893,
                      "type": "identifier",
                      "value": "VSUnit",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3921,
                        "type": "string",
                        "value": "Original Units",
                      },
                    ],
                    "loc": 3921,
                    "type": "args",
                  },
                  "loc": 3914,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 3987,
                        "type": "string",
                        "value": "Original units in which the data were collected. The unit for VSORRES.",
                      },
                    ],
                    "loc": 3987,
                    "type": "args",
                  },
                  "loc": 3981,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 3884,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 4102,
                "type": "identifier",
                "value": "VSSTRESC",
              },
              "columnType": Object {
                "loc": 4111,
                "members": Array [
                  Object {
                    "loc": 4111,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 4111,
                      "type": "identifier",
                      "value": "String",
                    },
                  },
                  Object {
                    "loc": 4118,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 4118,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                  Object {
                    "loc": 4126,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 4126,
                      "type": "identifier",
                      "value": "Float",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 4139,
                        "type": "string",
                        "value": "Character Result/Finding in Std Format",
                      },
                    ],
                    "loc": 4139,
                    "type": "args",
                  },
                  "loc": 4132,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 4229,
                        "type": "string",
                        "value": "Contains the result value for all findings, copied or derived from VSORRES in a standard format or standard units.",
                      },
                    ],
                    "loc": 4229,
                    "type": "args",
                  },
                  "loc": 4223,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 4102,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 4457,
                "type": "identifier",
                "value": "VSSTRESN",
              },
              "columnType": Object {
                "loc": 4466,
                "members": Array [
                  Object {
                    "loc": 4466,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 4466,
                      "type": "identifier",
                      "value": "Integer",
                    },
                  },
                  Object {
                    "loc": 4474,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 4474,
                      "type": "identifier",
                      "value": "Float",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 4494,
                        "type": "string",
                        "value": "Numeric Result/Finding in Standard Units",
                      },
                    ],
                    "loc": 4494,
                    "type": "args",
                  },
                  "loc": 4487,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 4586,
                        "type": "string",
                        "value": "Used for continuous or numeric results or findings in standard format",
                      },
                    ],
                    "loc": 4586,
                    "type": "args",
                  },
                  "loc": 4580,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 4457,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 4714,
                "type": "identifier",
                "value": "VSSTRESU",
              },
              "columnType": Object {
                "loc": 4723,
                "members": Array [
                  Object {
                    "loc": 4723,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 4723,
                      "type": "identifier",
                      "value": "VSUnit",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 4751,
                        "type": "string",
                        "value": "Standard Units",
                      },
                    ],
                    "loc": 4751,
                    "type": "args",
                  },
                  "loc": 4744,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 4817,
                        "type": "string",
                        "value": "Standardized unit used for VSSTRESC and VSSTRESN",
                      },
                    ],
                    "loc": 4817,
                    "type": "args",
                  },
                  "loc": 4811,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 4714,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 4910,
                "type": "identifier",
                "value": "VSSTAT",
              },
              "columnType": Object {
                "loc": 4917,
                "members": Array [
                  Object {
                    "loc": 4917,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 4917,
                      "type": "identifier",
                      "value": "Boolean",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 4947,
                        "type": "string",
                        "value": "Completion Status",
                      },
                    ],
                    "loc": 4947,
                    "type": "args",
                  },
                  "loc": 4940,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 5016,
                        "type": "string",
                        "value": "Used to indicate that a vital sign measurement was not done.",
                      },
                    ],
                    "loc": 5016,
                    "type": "args",
                  },
                  "loc": 5010,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 4910,
              "type": "column-definition",
            },
            Object {
              "columnName": Object {
                "loc": 5119,
                "type": "identifier",
                "value": "VSREASND",
              },
              "columnType": Object {
                "loc": 5128,
                "members": Array [
                  Object {
                    "loc": 5128,
                    "optional": false,
                    "type": "type-expression-member",
                    "value": Object {
                      "loc": 5128,
                      "type": "identifier",
                      "value": "String",
                    },
                  },
                ],
                "type": "type-expression",
              },
              "directives": Array [
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 5156,
                        "type": "string",
                        "value": "Reason Not Performed",
                      },
                    ],
                    "loc": 5156,
                    "type": "args",
                  },
                  "loc": 5149,
                  "name": "label",
                  "type": "directive",
                },
                Object {
                  "args": Object {
                    "args": Array [
                      Object {
                        "loc": 5228,
                        "type": "string",
                        "value": "Describes why a measurement or test was not performed.",
                      },
                    ],
                    "loc": 5228,
                    "type": "args",
                  },
                  "loc": 5222,
                  "name": "desc",
                  "type": "directive",
                },
              ],
              "loc": 5119,
              "type": "column-definition",
            },
          ],
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 2623,
                    "type": "timeconf",
                    "value": Object {
                      "at": Array [
                        Object {
                          "loc": 2649,
                          "type": "study-hour",
                          "unit": "hour",
                          "value": 8,
                        },
                        Object {
                          "loc": 2653,
                          "type": "study-hour",
                          "unit": "hour",
                          "value": 15,
                        },
                        Object {
                          "loc": 2658,
                          "type": "study-hour",
                          "unit": "hour",
                          "value": 19,
                        },
                      ],
                      "items": Array [
                        Object {
                          "end": Object {
                            "loc": 2637,
                            "type": "identifier",
                            "value": "CLOSEOUT",
                          },
                          "loc": 2625,
                          "start": Object {
                            "loc": 2625,
                            "type": "identifier",
                            "value": "BASELINE",
                          },
                          "type": "time-range",
                        },
                      ],
                      "loc": 2625,
                      "type": "time-list",
                    },
                  },
                ],
                "loc": 2623,
                "type": "args",
              },
              "loc": 2612,
              "name": "milestone",
              "type": "directive",
            },
          ],
          "interfaces": Object {
            "identifiers": Array [
              Object {
                "loc": 2607,
                "type": "identifier",
                "value": "base",
              },
            ],
            "loc": 2607,
            "type": "identifier-list",
          },
          "loc": 2582,
          "name": Object {
            "loc": 2590,
            "type": "identifier",
            "value": "vs_hr",
          },
          "type": "dataset-definition",
        },
      ],
      "directives": Array [
        Object {
          "args": Object {
            "args": Array [
              Object {
                "loc": 36,
                "type": "string",
                "value": "DM",
              },
            ],
            "loc": 36,
            "type": "args",
          },
          "loc": 30,
          "name": "abbr",
          "type": "directive",
        },
      ],
      "loc": 9,
      "name": Object {
        "loc": 16,
        "type": "string",
        "value": "VITAL SIGNS",
      },
      "type": "domain-definition",
    },
  ],
  "loc": 0,
  "type": "document",
}
`;

exports[`stringToAST() converts codelists 1`] = `
Object {
  "children": Array [
    Object {
      "loc": 9,
      "members": Array [
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 85,
                    "type": "string",
                    "value": "A person having origins in any of the original peoples of North and South America (including Central America), and who maintains tribal affiliation or community attachment.",
                  },
                ],
                "loc": 85,
                "type": "args",
              },
              "loc": 79,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 35,
          "name": Object {
            "loc": 35,
            "type": "string",
            "value": "AMERICAN INDIAN OR ALASKA NATIVE",
          },
          "type": "codelist-member",
        },
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 443,
                    "type": "string",
                    "value": "A person having origins in any of the original peoples of the Far East, Southeast Asia, or the Indian subcontinent including, for example, Cambodia, China, India, Japan, Korea, Malaysia, Pakistan, the Philippine Islands, Thailand, and Vietnam.",
                  },
                ],
                "loc": 443,
                "type": "args",
              },
              "loc": 437,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 393,
          "name": Object {
            "loc": 393,
            "type": "identifier",
            "value": "ASIAN",
          },
          "type": "codelist-member",
        },
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 933,
                    "type": "string",
                    "value": "A person having origins in any of the black racial groups of Africa. Terms such as \\"Haitian\\" or \\"Negro\\" can be used in addition to \\"Black or African American.\\"",
                  },
                ],
                "loc": 933,
                "type": "args",
              },
              "loc": 927,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 883,
          "name": Object {
            "loc": 883,
            "type": "string",
            "value": "BLACK OR AFRICAN AMERICAN",
          },
          "type": "codelist-member",
        },
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 1223,
                    "type": "string",
                    "value": "Denotes a person having origins in any of the original peoples of Hawaii, Guam, Samoa, or other Pacific Islands. The term covers particularly people who identify themselves as part-Hawaiian, Native Hawaiian, Guamanian or Chamorro, Carolinian, Samoan, Chuu.",
                  },
                ],
                "loc": 1223,
                "type": "args",
              },
              "loc": 1217,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 1173,
          "name": Object {
            "loc": 1173,
            "type": "string",
            "value": "NATIVE HAWAIIAN OR OTHER PACIFIC ISLANDER",
          },
          "type": "codelist-member",
        },
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 1726,
                    "type": "string",
                    "value": "Not provided or available.",
                  },
                ],
                "loc": 1726,
                "type": "args",
              },
              "loc": 1720,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 1676,
          "name": Object {
            "loc": 1676,
            "type": "string",
            "value": "NOT REPORTED",
          },
          "type": "codelist-member",
        },
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 1816,
                    "type": "string",
                    "value": "Not known, not observed, not recorded, or refused.",
                  },
                ],
                "loc": 1816,
                "type": "args",
              },
              "loc": 1810,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 1766,
          "name": Object {
            "loc": 1766,
            "type": "identifier",
            "value": "UNKNOWN",
          },
          "type": "codelist-member",
        },
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 1930,
                    "type": "string",
                    "value": "Denotes a person with European, Middle Eastern, or North African ancestral origin who identifies, or is identified, as White.",
                  },
                ],
                "loc": 1930,
                "type": "args",
              },
              "loc": 1924,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 1880,
          "name": Object {
            "loc": 1880,
            "type": "identifier",
            "value": "WHITE",
          },
          "type": "codelist-member",
        },
      ],
      "name": Object {
        "loc": 18,
        "type": "identifier",
        "value": "Race",
      },
      "type": "codelist-definition",
    },
    Object {
      "loc": 2147,
      "members": Array [
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 2209,
                    "type": "string",
                    "value": "A person of Mexican, Puerto Rican, Cuban, Central or South American or other Spanish culture or origin, regardless of race.",
                  },
                ],
                "loc": 2209,
                "type": "args",
              },
              "loc": 2203,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 2178,
          "name": Object {
            "loc": 2178,
            "type": "string",
            "value": "HISPANIC OR LATINO",
          },
          "type": "codelist-member",
        },
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 2419,
                    "type": "string",
                    "value": "A person not of Cuban, Mexican, Puerto Rican, South or Central American, or other Spanish culture or origin, regardless of race.",
                  },
                ],
                "loc": 2419,
                "type": "args",
              },
              "loc": 2413,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 2388,
          "name": Object {
            "loc": 2388,
            "type": "string",
            "value": "NOT HISPANIC OR LATINO",
          },
          "type": "codelist-member",
        },
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 2634,
                    "type": "string",
                    "value": "Not provided or available.",
                  },
                ],
                "loc": 2634,
                "type": "args",
              },
              "loc": 2628,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 2603,
          "name": Object {
            "loc": 2603,
            "type": "string",
            "value": "NOT REPORTED",
          },
          "type": "codelist-member",
        },
        Object {
          "directives": Array [
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 2705,
                    "type": "string",
                    "value": "Not known, not observed, not recorded, or refused.",
                  },
                ],
                "loc": 2705,
                "type": "args",
              },
              "loc": 2699,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 2674,
          "name": Object {
            "loc": 2674,
            "type": "identifier",
            "value": "UNKNOWN",
          },
          "type": "codelist-member",
        },
      ],
      "name": Object {
        "loc": 2156,
        "type": "identifier",
        "value": "Ethnicity",
      },
      "type": "codelist-definition",
    },
  ],
  "loc": 0,
  "type": "document",
}
`;

exports[`stringToAST() converts interface definitions 1`] = `
Object {
  "children": Array [
    Object {
      "columns": Array [
        Object {
          "columnName": Object {
            "loc": 36,
            "type": "identifier",
            "value": "USUBJID",
          },
          "columnType": Object {
            "loc": 44,
            "members": Array [
              Object {
                "loc": 44,
                "optional": false,
                "type": "type-expression-member",
                "value": Object {
                  "loc": 44,
                  "type": "identifier",
                  "value": "String",
                },
              },
            ],
            "type": "type-expression",
          },
          "directives": Array [
            Object {
              "args": null,
              "loc": 53,
              "name": "subject.uuid",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 101,
                    "type": "string",
                    "value": "Unique Subject Identifier",
                  },
                ],
                "loc": 101,
                "type": "args",
              },
              "loc": 94,
              "name": "label",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 163,
                    "type": "string",
                    "value": "Identifier used to uniquely identify a subject across all studies.",
                  },
                ],
                "loc": 163,
                "type": "args",
              },
              "loc": 157,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 36,
          "type": "column-definition",
        },
        Object {
          "columnName": Object {
            "loc": 252,
            "type": "identifier",
            "value": "SUBJID",
          },
          "columnType": Object {
            "loc": 259,
            "members": Array [
              Object {
                "loc": 259,
                "optional": false,
                "type": "type-expression-member",
                "value": Object {
                  "loc": 259,
                  "type": "identifier",
                  "value": "String",
                },
              },
            ],
            "type": "type-expression",
          },
          "directives": Array [
            Object {
              "args": null,
              "loc": 269,
              "name": "subject.id",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 315,
                    "type": "string",
                    "value": "Subject Identifier for the Study",
                  },
                ],
                "loc": 315,
                "type": "args",
              },
              "loc": 308,
              "name": "label",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 384,
                    "type": "string",
                    "value": "Subject identifier, which is unique within the study.",
                  },
                ],
                "loc": 384,
                "type": "args",
              },
              "loc": 378,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 252,
          "type": "column-definition",
        },
      ],
      "loc": 9,
      "name": Object {
        "loc": 19,
        "type": "identifier",
        "value": "base",
      },
      "type": "interface-definition",
    },
    Object {
      "columns": Array [
        Object {
          "columnName": Object {
            "loc": 501,
            "type": "identifier",
            "value": "VISITNUM",
          },
          "columnType": Object {
            "loc": 510,
            "members": Array [
              Object {
                "loc": 510,
                "optional": false,
                "type": "type-expression-member",
                "value": Object {
                  "loc": 510,
                  "type": "identifier",
                  "value": "Integer",
                },
              },
            ],
            "type": "type-expression",
          },
          "directives": Array [
            Object {
              "args": null,
              "loc": 518,
              "name": "milestone.number",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 570,
                    "type": "string",
                    "value": "Visit Number",
                  },
                ],
                "loc": 570,
                "type": "args",
              },
              "loc": 563,
              "name": "label",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 619,
                    "type": "string",
                    "value": "Clinical encounter number.",
                  },
                ],
                "loc": 619,
                "type": "args",
              },
              "loc": 613,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 501,
          "type": "column-definition",
        },
        Object {
          "columnName": Object {
            "loc": 686,
            "type": "identifier",
            "value": "VISIT",
          },
          "columnType": Object {
            "loc": 692,
            "members": Array [
              Object {
                "loc": 692,
                "optional": false,
                "type": "type-expression-member",
                "value": Object {
                  "loc": 692,
                  "type": "identifier",
                  "value": "String",
                },
              },
            ],
            "type": "type-expression",
          },
          "directives": Array [
            Object {
              "args": null,
              "loc": 703,
              "name": "milestone.id",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 751,
                    "type": "string",
                    "value": "Visit Name",
                  },
                ],
                "loc": 751,
                "type": "args",
              },
              "loc": 744,
              "name": "label",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 798,
                    "type": "string",
                    "value": "Protocol-defined description of clinical encounter.",
                  },
                ],
                "loc": 798,
                "type": "args",
              },
              "loc": 792,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 686,
          "type": "column-definition",
        },
        Object {
          "columnName": Object {
            "loc": 888,
            "type": "identifier",
            "value": "VISITDY",
          },
          "columnType": Object {
            "loc": 896,
            "members": Array [
              Object {
                "loc": 896,
                "optional": false,
                "type": "type-expression-member",
                "value": Object {
                  "loc": 896,
                  "type": "identifier",
                  "value": "Integer",
                },
              },
            ],
            "type": "type-expression",
          },
          "directives": Array [
            Object {
              "args": null,
              "loc": 905,
              "name": "milestone.day",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 954,
                    "type": "string",
                    "value": "Planned Study Day of Visit",
                  },
                ],
                "loc": 954,
                "type": "args",
              },
              "loc": 947,
              "name": "label",
              "type": "directive",
            },
            Object {
              "args": Object {
                "args": Array [
                  Object {
                    "loc": 1017,
                    "type": "string",
                    "value": "Planned study day of the visit based upon RFSTDTC in Demographics.",
                  },
                ],
                "loc": 1017,
                "type": "args",
              },
              "loc": 1011,
              "name": "desc",
              "type": "directive",
            },
          ],
          "loc": 888,
          "type": "column-definition",
        },
      ],
      "loc": 468,
      "name": Object {
        "loc": 478,
        "type": "identifier",
        "value": "visit_base",
      },
      "type": "interface-definition",
    },
  ],
  "loc": 0,
  "type": "document",
}
`;

exports[`stringToAST() converts milestone definitions 1`] = `
Object {
  "children": Array [
    Object {
      "children": Array [
        Object {
          "lhs": Object {
            "loc": 41,
            "type": "identifier",
            "value": "at",
          },
          "loc": 41,
          "rhs": Object {
            "loc": 45,
            "type": "timeconf",
            "value": Object {
              "at": null,
              "items": Array [
                Object {
                  "day": Object {
                    "loc": 47,
                    "type": "day-expression",
                    "unit": "day",
                    "value": -14,
                  },
                  "loc": 47,
                  "type": "study-day",
                  "window": Object {
                    "loc": 52,
                    "type": "window",
                    "window": Array [
                      Object {
                        "days": Object {
                          "loc": 53,
                          "type": "day-expression",
                          "unit": "day",
                          "value": 14,
                        },
                        "loc": 52,
                        "operator": "+",
                        "type": "positive-window",
                      },
                      Object {
                        "days": Object {
                          "loc": 58,
                          "type": "day-expression",
                          "unit": "day",
                          "value": 10,
                        },
                        "loc": 57,
                        "operator": "-",
                        "type": "negative-window",
                      },
                    ],
                  },
                },
              ],
              "loc": 47,
              "type": "time-list",
            },
          },
          "type": "key-value-pair",
        },
      ],
      "loc": 9,
      "name": Object {
        "loc": 19,
        "type": "identifier",
        "value": "SCREENING",
      },
      "type": "milestone-definition",
    },
    Object {
      "children": Array [
        Object {
          "lhs": Object {
            "loc": 121,
            "type": "identifier",
            "value": "at",
          },
          "loc": 121,
          "rhs": Object {
            "loc": 125,
            "type": "timeconf",
            "value": Object {
              "at": null,
              "items": Array [
                Object {
                  "day": Object {
                    "loc": 127,
                    "type": "day-expression",
                    "unit": "day",
                    "value": 0,
                  },
                  "loc": 127,
                  "type": "study-day",
                  "window": null,
                },
              ],
              "loc": 127,
              "type": "time-list",
            },
          },
          "type": "key-value-pair",
        },
      ],
      "loc": 90,
      "name": Object {
        "loc": 100,
        "type": "identifier",
        "value": "BASELINE",
      },
      "type": "milestone-definition",
    },
    Object {
      "children": Array [
        Object {
          "lhs": Object {
            "loc": 189,
            "type": "identifier",
            "value": "at",
          },
          "loc": 189,
          "rhs": Object {
            "loc": 193,
            "type": "timeconf",
            "value": Object {
              "at": null,
              "items": Array [
                Object {
                  "day": Object {
                    "loc": 195,
                    "type": "day-expression",
                    "unit": "day",
                    "value": 7,
                  },
                  "loc": 195,
                  "type": "study-day",
                  "window": Object {
                    "loc": 198,
                    "type": "window",
                    "window": Array [
                      Object {
                        "days": Object {
                          "loc": 200,
                          "type": "day-expression",
                          "unit": "day",
                          "value": 4,
                        },
                        "loc": 198,
                        "operator": "+-",
                        "type": "both-window",
                      },
                    ],
                  },
                },
              ],
              "loc": 195,
              "type": "time-list",
            },
          },
          "type": "key-value-pair",
        },
      ],
      "loc": 158,
      "name": Object {
        "loc": 168,
        "type": "identifier",
        "value": "CLINIC_1",
      },
      "type": "milestone-definition",
    },
    Object {
      "children": Array [
        Object {
          "lhs": Object {
            "loc": 262,
            "type": "identifier",
            "value": "at",
          },
          "loc": 262,
          "rhs": Object {
            "loc": 266,
            "type": "timeconf",
            "value": Object {
              "at": null,
              "items": Array [
                Object {
                  "day": Object {
                    "loc": 268,
                    "type": "day-expression",
                    "unit": "day",
                    "value": 14,
                  },
                  "loc": 268,
                  "type": "study-day",
                  "window": Object {
                    "loc": 272,
                    "type": "window",
                    "window": Array [
                      Object {
                        "days": Object {
                          "loc": 274,
                          "type": "day-expression",
                          "unit": "day",
                          "value": 4,
                        },
                        "loc": 272,
                        "operator": "+-",
                        "type": "both-window",
                      },
                    ],
                  },
                },
              ],
              "loc": 268,
              "type": "time-list",
            },
          },
          "type": "key-value-pair",
        },
      ],
      "loc": 231,
      "name": Object {
        "loc": 241,
        "type": "identifier",
        "value": "CLINIC_2",
      },
      "type": "milestone-definition",
    },
    Object {
      "children": Array [
        Object {
          "lhs": Object {
            "loc": 336,
            "type": "identifier",
            "value": "at",
          },
          "loc": 336,
          "rhs": Object {
            "loc": 340,
            "type": "timeconf",
            "value": Object {
              "at": null,
              "items": Array [
                Object {
                  "day": Object {
                    "loc": 342,
                    "type": "day-expression",
                    "unit": "day",
                    "value": 21,
                  },
                  "loc": 342,
                  "type": "study-day",
                  "window": Object {
                    "loc": 346,
                    "type": "window",
                    "window": Array [
                      Object {
                        "days": Object {
                          "loc": 348,
                          "type": "day-expression",
                          "unit": "day",
                          "value": 3,
                        },
                        "loc": 346,
                        "operator": "+-",
                        "type": "both-window",
                      },
                    ],
                  },
                },
              ],
              "loc": 342,
              "type": "time-list",
            },
          },
          "type": "key-value-pair",
        },
      ],
      "loc": 305,
      "name": Object {
        "loc": 315,
        "type": "identifier",
        "value": "CLINIC_3",
      },
      "type": "milestone-definition",
    },
    Object {
      "children": Array [
        Object {
          "lhs": Object {
            "loc": 410,
            "type": "identifier",
            "value": "day",
          },
          "loc": 410,
          "rhs": Object {
            "loc": 415,
            "type": "timeconf",
            "value": Object {
              "at": null,
              "items": Array [
                Object {
                  "day": Object {
                    "loc": 417,
                    "type": "day-expression",
                    "unit": "day",
                    "value": 28,
                  },
                  "loc": 417,
                  "type": "study-day",
                  "window": Object {
                    "loc": 421,
                    "type": "window",
                    "window": Array [
                      Object {
                        "days": Object {
                          "loc": 423,
                          "type": "day-expression",
                          "unit": "day",
                          "value": 4,
                        },
                        "loc": 421,
                        "operator": "+-",
                        "type": "both-window",
                      },
                    ],
                  },
                },
              ],
              "loc": 417,
              "type": "time-list",
            },
          },
          "type": "key-value-pair",
        },
      ],
      "loc": 379,
      "name": Object {
        "loc": 389,
        "type": "identifier",
        "value": "CLINIC_4",
      },
      "type": "milestone-definition",
    },
    Object {
      "children": Array [
        Object {
          "lhs": Object {
            "loc": 485,
            "type": "identifier",
            "value": "day",
          },
          "loc": 485,
          "rhs": Object {
            "loc": 490,
            "type": "timeconf",
            "value": Object {
              "at": null,
              "items": Array [
                Object {
                  "day": Object {
                    "loc": 492,
                    "type": "day-expression",
                    "unit": "day",
                    "value": 35,
                  },
                  "loc": 492,
                  "type": "study-day",
                  "window": Object {
                    "loc": 496,
                    "type": "window",
                    "window": Array [
                      Object {
                        "days": Object {
                          "loc": 497,
                          "type": "day-expression",
                          "unit": "day",
                          "value": 2,
                        },
                        "loc": 496,
                        "operator": "+",
                        "type": "positive-window",
                      },
                      Object {
                        "days": Object {
                          "loc": 501,
                          "type": "day-expression",
                          "unit": "day",
                          "value": 4,
                        },
                        "loc": 500,
                        "operator": "-",
                        "type": "negative-window",
                      },
                    ],
                  },
                },
              ],
              "loc": 492,
              "type": "time-list",
            },
          },
          "type": "key-value-pair",
        },
      ],
      "loc": 454,
      "name": Object {
        "loc": 464,
        "type": "identifier",
        "value": "CLOSEOUT",
      },
      "type": "milestone-definition",
    },
    Object {
      "children": Array [
        Object {
          "lhs": Object {
            "loc": 565,
            "type": "identifier",
            "value": "day",
          },
          "loc": 565,
          "rhs": Object {
            "loc": 570,
            "type": "timeconf",
            "value": Object {
              "loc": 572,
              "operator": Object {
                "loc": 572,
                "type": "time-operator",
                "value": ">",
              },
              "rhs": Object {
                "loc": 574,
                "type": "identifier",
                "value": "BASELINE",
              },
              "type": "time-expression",
            },
          },
          "type": "key-value-pair",
        },
      ],
      "loc": 532,
      "name": Object {
        "loc": 542,
        "type": "identifier",
        "value": "EARLY_TERM",
      },
      "type": "milestone-definition",
    },
  ],
  "loc": 0,
  "type": "document",
}
`;

exports[`stringToAST() converts study metadata 1`] = `
Object {
  "children": Array [
    Object {
      "children": Array [
        Object {
          "lhs": Object {
            "loc": 27,
            "type": "identifier",
            "value": "id",
          },
          "loc": 27,
          "rhs": Object {
            "loc": 31,
            "type": "string",
            "value": "TER101-AD-201",
          },
          "type": "key-value-pair",
        },
        Object {
          "lhs": Object {
            "loc": 57,
            "type": "identifier",
            "value": "name",
          },
          "loc": 57,
          "rhs": Object {
            "loc": 63,
            "type": "string",
            "value": "Teres Atopic Derm Phase 2a",
          },
          "type": "key-value-pair",
        },
      ],
      "loc": 9,
      "type": "study-definition",
    },
  ],
  "loc": 0,
  "type": "document",
}
`;
